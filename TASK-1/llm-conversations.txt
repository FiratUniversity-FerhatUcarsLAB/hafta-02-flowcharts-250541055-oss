HAYAT AY
250541055

Bankadan para Ã§ekme algoritmasÄ± oluÅŸtur.
ATMâ€™den para Ã§ekme â€” adÄ±m adÄ±m model (orta zorluk, dÃ¶ngÃ¼ler + Ã§oklu koÅŸullar)

AÅŸaÄŸÄ±da verilen model; adÄ±m adÄ±m iÅŸlem akÄ±ÅŸÄ±, gerekli durum/iÅŸlem deÄŸiÅŸkenleri, dÃ¶ngÃ¼ler ve koÅŸullar ile birlikte pseudocode (Ã§alÄ±ÅŸtÄ±rÄ±lmaya yakÄ±n) ve test senaryolarÄ± iÃ§erir. VarsayÄ±mlarÄ±mÄ± aÃ§Ä±kÃ§a belirtiyorum â€” gerÃ§ek sistemde bunlar bankanÄ±n politikalarÄ±na gÃ¶re deÄŸiÅŸir.

VarsayÄ±mlar

max_pin_attempts = 3

cash_unit = 20 (Ã§ekilecek tutar 20 TLâ€™nin katÄ± olmalÄ±)

daily_limit (kullanÄ±cÄ±nÄ±n gÃ¼nlÃ¼k nakit Ã§ekim limiti) Ã¶rn. 2000 TL

account_balance baÅŸlangÄ±Ã§ta bir sayÄ± (Ã¶r. 1500 TL)

daily_withdrawn o gÃ¼n Ã§ekilmiÅŸ toplam (baÅŸlangÄ±Ã§ 0)

Kart takÄ±lÄ±nca card_inserted = True. Kart bloke olursa card_blocked = True.

ATMâ€™de yeterli nakit olduÄŸu varsayÄ±lacak (aksi belirtilirse ek kontrol eklenir).

1) Temel deÄŸiÅŸkenler / durumlar
card_inserted: bool
card_blocked: bool
pin_attempts: int
pin_verified: bool
account_balance: float
daily_withdrawn: float
daily_limit: float
requested_amount: int
cash_unit: int = 20
max_pin_attempts: int = 3

2) Ä°ÅŸlem akÄ±ÅŸÄ± â€” adÄ±m adÄ±m (Ã¶zet)

Kart takÄ±lÄ±r. (card_inserted = True)

EÄŸer kart daha Ã¶nceden bloke edilmiÅŸse -> kart iade edilir, iÅŸlem sonlanÄ±r.

PIN istenir.

PIN doÄŸrulama dÃ¶ngÃ¼sÃ¼: en fazla 3 deneme; 3 hatada kart bloke edilir ve iÅŸlem biter.

PIN doÄŸrulandÄ±ktan sonra bakiye sorgulanÄ±r (ve/veya gÃ¶sterilir).

KullanÄ±cÄ± Ã§ekilecek tutarÄ± girer.

requested_amount aÅŸaÄŸÄ±daki koÅŸullardan sÄ±rasÄ±yla kontrol edilir:

20 TLâ€™nin katÄ± mÄ±?

requested_amount <= account_balance? (yetersiz bakiye kontrolÃ¼)

daily_withdrawn + requested_amount <= daily_limit? (gÃ¼nlÃ¼k limit kontrolÃ¼)

(Ä°steÄŸe baÄŸlÄ±) ATMâ€™de yeterli fiziki nakit var mÄ±?

TÃ¼m koÅŸullar saÄŸlanÄ±yorsa: para verilir, fiÅŸ Ã§Ä±karÄ±lÄ±r, account_balance ve daily_withdrawn gÃ¼ncellenir.

KullanÄ±cÄ±ya "BaÅŸka iÅŸlem yapmak istiyor musunuz?" sorusu sunulur. EÄŸer evet -> 5. adÄ±ma dÃ¶n (PIN doÄŸrulamasÄ± atlanÄ±r); hayÄ±r -> kart iade edilir, iÅŸlem sonlanÄ±r.

Her hata durumunda uygun mesaj verilir ve kullanÄ±cÄ±ya tekrar deneme imkÃ¢nÄ± veya iÅŸlemi sonlandÄ±rma sunulur.

3) Pseudocode (Ã§alÄ±ÅŸtÄ±rmaya yakÄ±n)
function atm_session(card):
    if card.is_blocked:
        show("Kart bloke. Banka ile iletiÅŸime geÃ§in.")
        return

    card_inserted = True
    pin_attempts = 0
    pin_verified = False

    # PIN doÄŸrulama dÃ¶ngÃ¼sÃ¼
    while pin_attempts < max_pin_attempts and not pin_verified:
        entered_pin = prompt("LÃ¼tfen PIN giriniz:")
        if verify_pin(card, entered_pin):
            pin_verified = True
        else:
            pin_attempts += 1
            remaining = max_pin_attempts - pin_attempts
            if remaining > 0:
                show(f"HatalÄ± PIN. Kalan deneme: {remaining}")
            else:
                card.block()
                show("Kart bloke edildi. BankayÄ± arayÄ±n.")
                return

    # PIN doÄŸrulandÄ±ktan sonra iÅŸlem dÃ¶ngÃ¼sÃ¼
    while True:
        show("1) Bakiye sorgula  2) Para Ã§ek  3) DiÄŸer iÅŸlemler  4) Ã‡Ä±kÄ±ÅŸ")
        choice = prompt_choice()
        if choice == "1":
            show(f"GÃ¼ncel bakiye: {account_balance} TL")
            continue  # baÅŸka iÅŸlem seÃ§eneÄŸi
        elif choice == "2":
            show(f"GÃ¼nlÃ¼k kalan limit: {daily_limit - daily_withdrawn} TL")
            requested_amount = prompt_int("Ã‡ekmek istediÄŸiniz tutarÄ± giriniz (TL):")
            
            # KoÅŸul 1: 20 TL'nin katÄ± olmalÄ±
            if requested_amount % cash_unit != 0:
                show(f"Tutar {cash_unit} TL'nin katÄ± olmalÄ±dÄ±r.")
                continue

            # KoÅŸul 2: Yetersiz bakiye
            if requested_amount > account_balance:
                show("Yetersiz bakiye.")
                continue

            # KoÅŸul 3: GÃ¼nlÃ¼k limit
            if daily_withdrawn + requested_amount > daily_limit:
                show("GÃ¼nlÃ¼k limit aÅŸÄ±mÄ±.")
                continue

            # (Ä°steÄŸe baÄŸlÄ±) ATM nakit kontrolÃ¼ (Ã¶rn. atm_cash >= requested_amount)
            if atm_cash < requested_amount:
                show("ATM'de yeterli nakit yok.")
                continue

            # TÃ¼m kontroller geÃ§ildi: para ver ve fiÅŸ Ã§Ä±kar
            dispense_cash(requested_amount)
            print_receipt(account_balance_before=account_balance,
                          withdrawn=requested_amount,
                          new_balance = account_balance - requested_amount)
            account_balance -= requested_amount
            daily_withdrawn += requested_amount
            atm_cash -= requested_amount

            show("Ä°ÅŸlem baÅŸarÄ±lÄ±. LÃ¼tfen paranÄ±zÄ± alÄ±n.")
            
            # BaÅŸka iÅŸlem sorusu
            more = prompt_yes_no("BaÅŸka iÅŸlem yapmak ister misiniz? (E/H)")
            if more == "E":
                continue  # dÃ¶ngÃ¼; PIN doÄŸrulama atlanÄ±r Ã§Ã¼nkÃ¼ zaten doÄŸrulandÄ±
            else:
                eject_card()
                show("Kart iade edildi. Ä°yi gÃ¼nler.")
                return

        elif choice == "4" or choice == "Ã‡Ä±kÄ±ÅŸ":
            eject_card()
            show("Kart iade edildi. Ä°yi gÃ¼nler.")
            return

        else:
            handle_other_choices_or_show_help()
            continue

4) Durum diyagramÄ± (kÄ±sa aÃ§Ä±klama)

BaÅŸlangÄ±Ã§ â†’ Kart TakÄ±ldÄ±?

HayÄ±r â†’ Bekle

Evet â†’ Kart Bloke mi?

Evet â†’ Kart iade, bitir

HayÄ±r â†’ PIN DÃ¶ngÃ¼sÃ¼ (<=3)

BaÅŸarÄ±lÄ± â†’ MenÃ¼ (Bakiye, Para Ã‡ek, Ã‡Ä±kÄ±ÅŸ)

3 Hata â†’ Kart bloke, bitir

MenÃ¼ â†’ Para Ã‡ek seÃ§ilmiÅŸse â†’ Tutar gir

EÄŸer %20 kurala uymuyorsa â†’ hata, menÃ¼ye dÃ¶n

EÄŸer bakiye yetersizse â†’ hata, menÃ¼ye dÃ¶n

EÄŸer gÃ¼nlÃ¼k limit aÅŸÄ±mÄ±ysa â†’ hata, menÃ¼ye dÃ¶n

EÄŸer ATM nakit yetersizse â†’ hata, menÃ¼ye dÃ¶n

Hepsi ok â†’ para ver, fiÅŸ, bakiye gÃ¼ncelle, baÅŸka iÅŸlem sor â†’ evet: menÃ¼; hayÄ±r: kart iade, bitir

5) Kenar durumlar / hata mesajlarÄ± (Ã¶neriler)

PIN giriÅŸinde zaman aÅŸÄ±mÄ±: belirli sÃ¼re iÃ§inde giriÅŸ yapÄ±lmazsa kart iade edilsin.

Kart takÄ±ldÄ±ktan sonra iÅŸlem iptali: kullanÄ±cÄ± istediÄŸinde kartÄ± iade et.

EÅŸ zamanlÄ± iÅŸlem: aynÄ± hesap baÅŸka bir iÅŸlem yapÄ±yorsa eÅŸ zamanlÄ±lÄ±k kontrolÃ¼ (race condition).

ATM nakit yetersizse kullanÄ±cÄ±ya alternatif tutar Ã¶ner (Ã¶rn. en yakÄ±n 20 TL katÄ± altÄ±nda kalan).

AÄŸ kesintisi / banka sistemine baÄŸlanamama: iÅŸlem gÃ¼venli bir ÅŸekilde iptal edilmeli ve kart iade edilmeli.

FiÅŸ seÃ§eneÄŸi: istemezse fiÅŸ basÄ±lmasÄ±n (ek seÃ§enek).

6) Test senaryolarÄ± (Ã¶rnek)

BaÅŸarÄ±lÄ± Ã§ekim: bakiye 1500, gÃ¼nlÃ¼k_limit 2000, Ã§ek 200 â†’ baÅŸarÄ±lÄ±, bakiye 1300, daily_withdrawn 200.

PIN Ã¼Ã§ hatada bloklama: 3 yanlÄ±ÅŸ PIN â†’ kart bloke, iÅŸlem bitiÅŸi.

20 TL katÄ± deÄŸil: kullanÄ±cÄ± 50 TL ister â†’ hata: "Tutar 20 TL'nin katÄ± olmalÄ±".

Yetersiz bakiye: bakiye 100, istenen 200 â†’ "Yetersiz bakiye".

GÃ¼nlÃ¼k limit aÅŸÄ±lÄ±yor: daily_withdrawn 1900, istenen 200, daily_limit 2000 â†’ "GÃ¼nlÃ¼k limit aÅŸÄ±mÄ±".

ATM nakit yetersiz: atm_cash 100, istenen 200 â†’ "ATM'de yeterli nakit yok".

BaÅŸka iÅŸlem: baÅŸarÄ±lÄ± Ã§ekim sonra "E" â†’ menÃ¼ye dÃ¶n, baÅŸka iÅŸlemler yapÄ±labilir.

7) Notlar / GeliÅŸtirme Ã¶nerileri

GerÃ§ek uygulamada PIN doÄŸrulama ve hesap sorgulamalarÄ± banka sunucusuna istek gÃ¶nderir; aÄŸ hatalarÄ± doÄŸru ele alÄ±nmalÄ±.

TÃ¼m para ve limit deÄŸerleri tam sayÄ± (TL) ve doÄŸrulama iÃ§in integer kullanÄ±lmalÄ±; kÃ¼surat olamaz.

GÃ¼venlik: PIN giriÅŸlerinde ekrate limitleri, ekran korumasÄ±, kÃ¶tÃ¼ amaÃ§lÄ± cihaz tespiti gibi mekanizmalar dÃ¼ÅŸÃ¼nÃ¼lmeli.

Loglama: her adÄ±m uygun ÅŸekilde loglanmalÄ± (gizli bilgileri iÃ§ermeden).

UX: HatalÄ± giriÅŸ sonrasÄ± kullanÄ±cÄ±ya neden reddedildiÄŸini aÃ§Ä±kÃ§a gÃ¶sterip Ã§Ã¶zÃ¼mler sunulmalÄ± (Ã¶rn. limit sebebiyle az miktar Ã¶ner).

Ä°stersen bu modeli sana:

akÄ±ÅŸ diyagramÄ± (grafik) olarak Ã§izebilirim,

veya verdiÄŸim pseudocodeâ€™u gerÃ§ek bir Python/Java/C# uygulamasÄ±na dÃ¶nÃ¼ÅŸtÃ¼rebilirim,

ya da detaylÄ± UML activity diagram ve sÄ±nÄ±f modeli hazÄ±rlayabilirim.

Hangi format istersin?

Åunu dedin:
psude kodu
ChatGPT:

Tabii ğŸ˜Š Ä°ÅŸte ATM para Ã§ekme iÅŸlemini dÃ¶ngÃ¼ler ve Ã§oklu koÅŸullar iÃ§erecek ÅŸekilde, sade ama eksiksiz bir pseudocode (psÃ¶do kod) olarak yazÄ±lmÄ±ÅŸ hali:

ğŸ’³ ATM PARA Ã‡EKME Ä°ÅLEMÄ° â€“ PSEUDOCODE
BAÅLA

  card_inserted â† TRUE
  card_blocked â† FALSE
  pin_verified â† FALSE
  pin_attempts â† 0
  max_pin_attempts â† 3
  account_balance â† 1500
  daily_limit â† 2000
  daily_withdrawn â† 0
  cash_unit â† 20
  atm_cash â† 10000

  EÄER card_blocked = TRUE Ä°SE
      YAZ "Kart bloke. LÃ¼tfen bankayla iletiÅŸime geÃ§in."
      BÄ°TÄ°R
  SON

  // PIN DOÄRULAMA DÃ–NGÃœSÃœ
  TEKRAR
      entered_pin â† KULLANICIDAN "PIN giriniz:" AL
      EÄER entered_pin DOÄRU Ä°SE
          pin_verified â† TRUE
      DEÄÄ°LSE
          pin_attempts â† pin_attempts + 1
          EÄER pin_attempts = max_pin_attempts Ä°SE
              card_blocked â† TRUE
              YAZ "3 yanlÄ±ÅŸ giriÅŸ! Kart bloke edildi."
              BÄ°TÄ°R
          DEÄÄ°LSE
              YAZ "HatalÄ± PIN. Kalan deneme: " + (max_pin_attempts - pin_attempts)
          SON
      SON
  PIN DOÄRULANANA KADAR

  // ANA Ä°ÅLEM DÃ–NGÃœSÃœ
  TEKRAR
      YAZ "1) Bakiye sorgula"
      YAZ "2) Para Ã§ek"
      YAZ "3) Ã‡Ä±kÄ±ÅŸ"
      secim â† KULLANICIDAN AL

      EÄER secim = 1 Ä°SE
          YAZ "Bakiyeniz: " + account_balance + " TL"

      DEÄÄ°LSE EÄER secim = 2 Ä°SE
          requested_amount â† KULLANICIDAN "Ã‡ekmek istediÄŸiniz tutar (TL):" AL

          // KOÅUL 1: 20 TLâ€™nin katÄ± olmalÄ±
          EÄER requested_amount MOD cash_unit â‰  0 Ä°SE
              YAZ "Tutar 20 TLâ€™nin katÄ± olmalÄ±dÄ±r."
              DEVAM ET
          SON

          // KOÅUL 2: Yetersiz bakiye
          EÄER requested_amount > account_balance Ä°SE
              YAZ "Yetersiz bakiye."
              DEVAM ET
          SON

          // KOÅUL 3: GÃ¼nlÃ¼k limit
          EÄER daily_withdrawn + requested_amount > daily_limit Ä°SE
              YAZ "GÃ¼nlÃ¼k limit aÅŸÄ±ldÄ±."
              DEVAM ET
          SON

          // KOÅUL 4: ATM nakit kontrolÃ¼
          EÄER requested_amount > atm_cash Ä°SE
              YAZ "ATM'de yeterli nakit yok."
              DEVAM ET
          SON

          // TÃœM KOÅULLAR TAMAMSA PARA VER
          account_balance â† account_balance - requested_amount
          daily_withdrawn â† daily_withdrawn + requested_amount
          atm_cash â† atm_cash - requested_amount
          YAZ "LÃ¼tfen paranÄ±zÄ± alÄ±n."
          YAZ "Yeni bakiyeniz: " + account_balance + " TL"
          YAZ "FiÅŸ veriliyor..."

          // BAÅKA Ä°ÅLEM SOR
          cevap â† KULLANICIDAN "BaÅŸka iÅŸlem yapmak ister misiniz? (E/H):" AL
          EÄER cevap = "E" Ä°SE
              DEVAM ET
          DEÄÄ°LSE
              YAZ "Kart iade edildi. Ä°yi gÃ¼nler."
              Ã‡IK
          SON

      DEÄÄ°LSE EÄER secim = 3 Ä°SE
          YAZ "Kart iade edildi. Ä°yi gÃ¼nler."
          Ã‡IK
      SON

  SÃœREKLÄ° TEKRAR

BÄ°TÄ°R

ğŸ” AÃ§Ä±klamalar:

DÃ¶ngÃ¼ler:

PIN giriÅŸinde: PIN DOÄRULANANA KADAR

Ana iÅŸlemde: SÃœREKLÄ° TEKRAR (baÅŸka iÅŸlem yapmak ister misiniz kÄ±smÄ±)

KoÅŸullar:

3 hatalÄ± PIN denemesi

20 TL katÄ± kontrolÃ¼

Yetersiz bakiye kontrolÃ¼

GÃ¼nlÃ¼k limit kontrolÃ¼

ATM nakit kontrolÃ¼

Ä°stersen bu pseudocodeâ€™u bir akÄ±ÅŸ diyagramÄ± (flowchart) olarak da gÃ¶rselleÅŸtirebilirim â€” adÄ±mlar ve koÅŸullar kutularla gÃ¶sterilmiÅŸ ÅŸekilde.
Ä°ster misin onu da hazÄ±rlayayÄ±m?

Åunu dedin:
bana dot diline Ã§evir
ChatGPT:

Tabii âœ…
AÅŸaÄŸÄ±da yukarÄ±daki ATM para Ã§ekme iÅŸleminin DOT dili (Graphviz) formatÄ±na Ã§evrilmiÅŸ hali var.
Bu dosyayÄ± .dot uzantÄ±sÄ±yla kaydedip, Ã¶rneÄŸin Graphviz Online
 gibi bir araÃ§ta aÃ§arsan akÄ±ÅŸ diyagramÄ±nÄ± gÃ¶rsel olarak inceleyebilirsin.

ğŸ’³ ATM PARA Ã‡EKME Ä°ÅLEMÄ° â€” DOT DÄ°LÄ°
digraph ATM_Process {

    rankdir=TB;
    node [shape=rectangle, style=rounded, fontsize=11, fontname="Arial"];

    start [label="BaÅŸla", shape=circle, style=filled, fillcolor=lightgrey];
    card_inserted [label="Kart takÄ±ldÄ±"];
    card_blocked_check [label="Kart bloke mi?", shape=diamond];
    blocked_exit [label="Kart bloke edildi\nBankayla iletiÅŸime geÃ§in", shape=rectangle, style="rounded,filled", fillcolor=lightcoral];

    pin_loop [label="PIN gir", shape=rectangle];
    pin_correct [label="PIN doÄŸru mu?", shape=diamond];
    pin_retry [label="HatalÄ± PIN\nDeneme +1"];
    card_blocked [label="3 hatalÄ± giriÅŸ\nKart bloke edildi", shape=rectangle, style="rounded,filled", fillcolor=lightcoral];

    menu [label="1) Bakiye sorgula\n2) Para Ã§ek\n3) Ã‡Ä±kÄ±ÅŸ", shape=rectangle];
    choice [label="SeÃ§im", shape=diamond];

    balance [label="Bakiye gÃ¶ster", shape=rectangle];

    withdraw [label="Ã‡ekilecek tutarÄ± gir", shape=rectangle];
    check_20 [label="20 TL'nin katÄ± mÄ±?", shape=diamond];
    check_balance [label="Yeterli bakiye var mÄ±?", shape=diamond];
    check_limit [label="GÃ¼nlÃ¼k limit iÃ§inde mi?", shape=diamond];
    check_cash [label="ATM'de yeterli nakit var mÄ±?", shape=diamond];

    dispense [label="Para ver + fiÅŸ Ã§Ä±kar", shape=rectangle, style="filled", fillcolor=lightgreen];
    update_balance [label="Bakiyeyi gÃ¼ncelle"];
    another [label="BaÅŸka iÅŸlem yapmak ister misiniz?", shape=diamond];

    exit [label="Kart iade edildi\nÄ°yi gÃ¼nler", shape=rectangle, style="rounded,filled", fillcolor=lightgrey];

    // AkÄ±ÅŸlar
    start -> card_inserted -> card_blocked_check;
    card_blocked_check -> blocked_exit [label="Evet"];
    card_blocked_check -> pin_loop [label="HayÄ±r"];

    pin_loop -> pin_correct;
    pin_correct -> menu [label="Evet"];
    pin_correct -> pin_retry [label="HayÄ±r"];
    pin_retry -> card_blocked [label="3. hatalÄ± giriÅŸ"];
    pin_retry -> pin_loop [label="Tekrar dene"];

    card_blocked -> blocked_exit;

    menu -> choice;
    choice -> balance [label="1"];
    choice -> withdraw [label="2"];
    choice -> exit [label="3"];

    balance -> menu [label="MenÃ¼ye dÃ¶n"];

    withdraw -> check_20;
    check_20 -> check_balance [label="Evet"];
    check_20 -> withdraw [label="HayÄ±r"];

    check_balance -> check_limit [label="Evet"];
    check_balance -> withdraw [label="HayÄ±r"];

    check_limit -> check_cash [label="Evet"];
    check_limit -> withdraw [label="HayÄ±r"];

    check_cash -> dispense [label="Evet"];
    check_cash -> withdraw [label="HayÄ±r"];

    dispense -> update_balance -> another;

    another -> menu [label="Evet"];
    another -> exit [label="HayÄ±r"];

    blocked_exit -> exit;
}

ğŸ§­ Bu ÅŸema:

TÃ¼m dÃ¶ngÃ¼leri (PIN denemeleri, baÅŸka iÅŸlem sorusu) gÃ¶sterir.

KoÅŸul dÃ¼ÄŸÃ¼mleri (elmaslar) "Evet / HayÄ±r" etiketleriyle yÃ¶nlendirilmiÅŸtir.

BaÅŸarÄ±lÄ± adÄ±mlar yeÅŸil, hata/sonlandÄ±rÄ±cÄ± adÄ±mlar kÄ±rmÄ±zÄ± veya gri renkle gÃ¶sterilir.

Ä°stersen aynÄ± ÅŸemayÄ± daha sade (sadece para Ã§ekme kÄ±smÄ±nÄ± iÃ§eren) veya daha detaylÄ± (Ã¶rneÄŸin ATM hata durumlarÄ±yla birlikte) olarak da Ã§izebilirim.
Hangisini istersin â€” sade, detaylÄ±, yoksa tam sistem (tÃ¼m menÃ¼yle)?

Åunu dedin:
dot kodunu yazdÄ±r
ChatGPT:

Elbette ğŸ‘
Ä°ÅŸte ATM para Ã§ekme iÅŸleminin tam DOT kodu, doÄŸrudan kopyalayÄ±p .dot dosyasÄ± olarak kaydedebilirsin:

digraph ATM_Process {

    rankdir=TB;
    node [shape=rectangle, style=rounded, fontsize=11, fontname="Arial"];

    start [label="BaÅŸla", shape=circle, style=filled, fillcolor=lightgrey];
    card_inserted [label="Kart takÄ±ldÄ±"];
    card_blocked_check [label="Kart bloke mi?", shape=diamond];
    blocked_exit [label="Kart bloke edildi\nBankayla iletiÅŸime geÃ§in", shape=rectangle, style="rounded,filled", fillcolor=lightcoral];

    pin_loop [label="PIN gir", shape=rectangle];
    pin_correct [label="PIN doÄŸru mu?", shape=diamond];
    pin_retry [label="HatalÄ± PIN\nDeneme +1"];
    card_blocked [label="3 hatalÄ± giriÅŸ\nKart bloke edildi", shape=rectangle, style="rounded,filled", fillcolor=lightcoral];

    menu [label="1) Bakiye sorgula\n2) Para Ã§ek\n3) Ã‡Ä±kÄ±ÅŸ", shape=rectangle];
    choice [label="SeÃ§im", shape=diamond];

    balance [label="Bakiye gÃ¶ster", shape=rectangle];

    withdraw [label="Ã‡ekilecek tutarÄ± gir", shape=rectangle];
    check_20 [label="20 TL'nin katÄ± mÄ±?", shape=diamond];
    check_balance [label="Yeterli bakiye var mÄ±?", shape=diamond];
    check_limit [label="GÃ¼nlÃ¼k limit iÃ§inde mi?", shape=diamond];
    check_cash [label="ATM'de yeterli nakit var mÄ±?", shape=diamond];

    dispense [label="Para ver + fiÅŸ Ã§Ä±kar", shape=rectangle, style="filled", fillcolor=lightgreen];
    update_balance [label="Bakiyeyi gÃ¼ncelle"];
    another [label="BaÅŸka iÅŸlem yapmak ister misiniz?", shape=diamond];

    exit [label="Kart iade edildi\nÄ°yi gÃ¼nler", shape=rectangle, style="rounded,filled", fillcolor=lightgrey];

    // AkÄ±ÅŸlar
    start -> card_inserted -> card_blocked_check;
    card_blocked_check -> blocked_exit [label="Evet"];
    card_blocked_check -> pin_loop [label="HayÄ±r"];

    pin_loop -> pin_correct;
    pin_correct -> menu [label="Evet"];
    pin_correct -> pin_retry [label="HayÄ±r"];
    pin_retry -> card_blocked [label="3. hatalÄ± giriÅŸ"];
    pin_retry -> pin_loop [label="Tekrar dene"];

    card_blocked -> blocked_exit;

    menu -> choice;
    choice -> balance [label="1"];
    choice -> withdraw [label="2"];
    choice -> exit [label="3"];

    balance -> menu [label="MenÃ¼ye dÃ¶n"];

    withdraw -> check_20;
    check_20 -> check_balance [label="Evet"];
    check_20 -> withdraw [label="HayÄ±r"];

    check_balance -> check_limit [label="Evet"];
    check_balance -> withdraw [label="HayÄ±r"];

    check_limit -> check_cash [label="Evet"];
    check_limit -> withdraw [label="HayÄ±r"];

    check_cash -> dispense [label="Evet"];
    check_cash -> withdraw [label="HayÄ±r"];

    dispense -> update_balance -> another;

    another -> menu [label="Evet"];
    another -> exit [label="HayÄ±r"];

    blocked_exit -> exit;
}
